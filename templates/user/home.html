<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&display=swap">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200">
        <link rel="stylesheet" href="../../static/style.css">

        <style>
            ::placeholder {
                text-align: center;
            }
        </style>
    </head>
    <header style="height: 120px;">
        <div class="row" style="justify-content: start; height: 50px; width: 100%">
            <div class="block" style="width: auto">
                <img class="expand-img" src="https://toplogos.ru/images/logo-sber.png"></img>
            </div>
        </div>

        <div class="row" style="height: 60px; justify-content: space-around;">
            <div class="row" style="width: 85%; height: 70%; border-radius: 60px; background-color: #ECECEC; justify-content: start;">
                <div class="block" style="width: 10%; height: auto; aspect-ratio: 1;">
                    <p class="material-symbols-outlined color-contour2" style="font-size: 30px; margin: 0">search</p>
                </div>
                <form action="partners_list" method="post" style="width: 80%">
                    <input class="bg-color-frame1" type="text" name="search_bar" placeholder="Поиск" required>
                </form>
                <!-- <p class="color-contour2" style="font-family: 'Manrope', sans-serif; font-size: 20px; font-weight: 500;">Поиск</p> -->
            </div>
        </div>
    </header>
    <body>
        <div class="column">
            <div class="column" style="justify-content: space-between; height: 33%; width: 100%">
                <div style="height: 15%; width: 100%">
                    <p class="text-main">Вы недавно искали</p>
                </div>
                <div class="scroll-row" style="height: 85%">
                    {% for partner in top_discount_partners %}
                        <div class="column shadow rounded bg-color-base" style="height: 85%; width: auto; aspect-ratio: 1.15; justify-content: space-between; margin: 1vh">
                            <div style="height: 60%; width: 100%">
                                <img id="image{{ partner.id }}_1" class="expand-img rounded"></img>
                            </div>
                            <div style="height: 20%; width: 100%">
                                <p class="text-main">{{ partner.name }}</p>
                            </div>
                            <div style="height: 20%; width: 100%">
                                <p class="text-mini">{{ partner.type }}</p>
                            </div>
                        </div>
                        <script>
                            image = document.getElementById('image' + {{ partner.id | tojson }} + '_1')
                            src = JSON.parse({{ partner.image_urls | tojson }})[0]
                            image.src = src
                        </script>
                    {% endfor %}
                </div>
            </div>
            <div class="column" style="justify-content: space-between; height: 33%; width: 100%">
                <div style="height: 15%; width: 100%">
                    <p class="text-main">Самые большие скидки</p>
                </div>
                <div class="scroll-row" style="height: 85%">
                    {% for partner in top_discount_partners %}
                        <div class="column shadow rounded bg-color-base" style="height: 85%; width: auto; aspect-ratio: 1.15; justify-content: space-between; margin: 1vh">
                            <div style="height: 60%; width: 100%">
                                <img id="image{{ partner.id }}_2" class="expand-img rounded"></img>
                            </div>
                            <div style="height: 20%; width: 100%">
                                <p class="text-main">{{ partner.name }}</p>
                            </div>
                            <div style="height: 20%; width: 100%">
                                <p class="text-mini">{{ partner.type }}</p>
                            </div>
                        </div>
                        <script>
                            image = document.getElementById('image' + {{ partner.id | tojson }} + '_2')
                            src = JSON.parse({{ partner.image_urls | tojson }})[0]
                            image.src = src
                        </script>
                    {% endfor %}
                </div>
            </div>
            <div class="column" style="justify-content: space-between; height: 33%; width: 100%">
                <div style="height: 15%; width: 100%">
                    <p class="text-main">Рекомендуем</p>
                </div>
                <div class="scroll-row" style="height: 85%">
                    {% for partner in top_discount_partners %}
                        <div class="column shadow rounded bg-color-base" style="height: 85%; width: auto; aspect-ratio: 1.15; justify-content: space-between; margin: 1vh">
                            <div style="height: 60%; width: 100%">
                                <img id="image{{ partner.id }}_3" class="expand-img rounded"></img>
                            </div>
                            <div style="height: 20%; width: 100%">
                                <p class="text-main">{{ partner.name }}</p>
                            </div>
                            <div style="height: 20%; width: 100%">
                                <p class="text-mini">{{ partner.type }}</p>
                            </div>
                        </div>
                        <script>
                            image = document.getElementById('image' + {{ partner.id | tojson }} + '_3')
                            src = JSON.parse({{ partner.image_urls | tojson }})[0]
                            image.src = src
                        </script>
                    {% endfor %}
                </div>
            </div>
        </div>
    </body>
    <footer class="bg-color-blur" style="height: 60px;">
        <div class="row">
            <div class="block">
                <form action="/home" method="get">
                    <button>
                        <p class="material-symbols-outlined color-clickable" style="font-size: 60px;">home</p>
                    </button>
                </form>
            </div>
            <div class="block">
                <form action="/map" method="get">
                    <button>
                        <p class="material-symbols-outlined color-contour2" style="font-size: 60px;">map</p>
                    </button>
                </form>
            </div>
            <div class="block">
                <form action="/support" method="get">
                    <button>
                        <p class="material-symbols-outlined color-contour2" style="font-size: 60px;">contact_support</p>
                    </button>
                </form>
            </div>
            <div class="block">
                <form action="/profile" method="get">
                    <button>
                        <p class="material-symbols-outlined color-contour2" style="font-size: 60px;">account_circle</p>
                    </button>
                </form>
            </div>
        </div>
    </footer>
</html>